---
lang: hi
lang-niv: auto
lang-ref: 001-ĉefa-afero
layout: page
slug: आवश्यक!
title: 'सबसे ज़रूरी चीज़'
---

# _flash\_cc2531_
 _flash\_cc2531_ आपको या तो _Arduino_ या _CC Debugger_की आवश्यकता के बिना, आपके _Raspberry_से अपने CC2531 USB स्टिक को प्रोग्राम करने की अनुमति देता है।

## शर्त
आपको या तो _Raspberry_ या _Odroid-c2_की आवश्यकता है।  
आपको कुंजी के डिबग पोर्ट _GPIO_ को _Raspberry_से जोड़ने की आवश्यकता है, उदाहरण के लिए एक केबल _CC_ और चार लाइनें _Dupont_ (आगे देखें)।   
[ (° १३ °) (° १५ °) (° १५ °) अवश्य स्थापित होना चाहिए (° १) °) यदि यह पूर्व-स्थापित नहीं है, तो आप इसे आमतौर पर (° १) °) स्थापित कर सकते हैं, अन्यथा देखें [ _Gordon_ ](http://wiringpi.com/) या [इस वैकल्पिक स्थल](https://github.com/WiringPi/WiringPi) \)की साइट।  
अंत में आपको कार्यक्रम की आवश्यकता है:

* आम तौर पर zigbee समन्वयक: [ संस्करण 1.2 (अनुशंसित)](https://github.com/Koenkk/Z-Stack-firmware/raw/master/coordinator/Z-Stack_Home_1.2/bin/default/) या [संस्करण 3.0](https://github.com/Koenkk/Z-Stack-firmware/tree/master/coordinator/Z-Stack_3.0.x/bin)


* या zigbee राउटर: [zigbee राउटर 1.2](https://github.com/Koenkk/Z-Stack-firmware/tree/master/router/CC2531/bin)




मैंने _raspbian_पर _Raspberry Pi 3_ के साथ अनुमान लगाया (सफल ° °), लेकिन सफल प्रोग्रामिंग अन्य मॉडलों पर बताया गया:  
 * पीआई 4 पर आपको संस्करण 2.52 _wiringpi_ की आवश्यकता होगी:  [स्थापित _wiringPi_ 2.52 of _Gordon_ ](http://wiringpi.com/wiringpi-updated-to-2-52-for-the-raspberry-pi-4b/)वेबसाइट



 * पी 1 और पी 2 पर आपको अन्य पिंस](#uzi_aliajn_pinglojn)का उपयोग करने के लिए [की आवश्यकता होगी।


 * हालाँकि, आपको समय आधार विकल्प ( (° २ °) (° ६ °) निर्धारित करने की आवश्यकता होगी।



## तैयार

डाउनलोड करें _flash\_cc2531_ आपके _raspberry_ :
```bash
git clone https://github.com/jmichault/flash_cc2531.git
```

डिबग पोर्ट से GPIO पोर्ट के लिए निम्नलिखित पिन कनेक्ट करें:

 1. पिन 1 ( _GND_ ) -> pin 39 ( _GND_ )


 2. पिन 7 ( _reset_ ) -> पिन 35 ( _wPi 24, BCM19_ )


 3. पिन 3 ( _DC_ ) -> pin 36 ( _wPi 27, BCM16_ )


 4. पिन 4 ( _DD_ ) -> pin 38 ( _wPi 28, BCM20_ )



और USB कुंजी को एक पोर्ट में डालें।

डाउनलोड केबल _CC_ और 4 लाइनें _Dupont_ महिला से महिला इस उद्देश्य के लिए एकदम सही हैं:
![कुंजी की फोटो और _raspberry_ ](https://github.com/jmichault/files/raw/master/Raspberry-CC2531.jpg))
यह मेरा पसंदीदा विकल्प है, लेकिन अगर आपके पास केबल _CC_ नहीं है, तो आप सीधे केबल को भी मिला सकते हैं _Dupont_ कुंजी पर: उदाहरण के लिए वेबसाइट देखें [ _lemariva.com_ ](https://lemariva.com/blog/2019/08/zigbee-flashing-cc2531-using-raspberry-pi-without-cc-debugger) या [ _notenoughtech.com_ ](https://notenoughtech.com/home-automation/flashing-cc2531-without-cc-debugger )


इसे आज़माएं:
```bash
cd flash_cc2531
./cc_chipid
```
इसे वापस करना होगा:
```
  ID = b524.
```
यदि आप 0000 देखते हैं या ffff कुछ विफल रहता है:  
 * पहले अपनी वायरिंग की जांच करें।


 * फिर एक उच्च आधार समय का प्रयास करें, उदाहरण के लिए `./cc_chipid -m 100`, या `./cc_chipid -m 160` या `./cc_chipid -m 300`।


 * यदि इनमें से कोई भी काम नहीं करता है, तो `make`के साथ पुन: प्रयास करें।




## प्रयोग
Save.hex फ़ाइल में फ्लैश मेमोरी की सामग्री को बचाने के लिए:
```bash
./cc_read save.hex
```
(लगभग 1 मिनट)तक रहता है।

फ्लैश मेमोरी को साफ़ करने के लिए:
```bash
./cc_erase
```
**नोट:** आपको (° ३ °) लिखना होगा (° ४ °) लिखने से पहले हटा दें (° ५ °) जब तक आप वास्तव में नहीं जानते कि आप क्या करने जा रहे हैं (° ६ °)।

कुंजी _CC2531_पर फ़ाइल _CC2531ZNP-Prod.hex_ को प्रोग्राम करने के लिए:
```bash
./cc_write CC2531ZNP-Prod.hex
```
(लगभग 3 मिनट)तक रहता है।

<a id="uzi_aliajn_pinglojn"></a>
लगभग 3 मिनट"तक रहता है।_
## अन्य पिन का उपयोग करें

सभी आदेश निम्नलिखित तर्क स्वीकार करते हैं:

 * _-c_ पिन: डिफ़ॉल्ट २ ° (° ६ °) (° 3 डिग्री) द्वारा पिन (° ३ °) (° ५ °) बदलें


 * (° १ °) पिन: डिफ़ॉल्ट २ ° (° ६ °) (° 3 डिग्री) द्वारा पिन (° ३ °) (° ५ °) बदलें


 * _-r_ पिन: डिफ़ॉल्ट २४ (° ६ °) (° 3 डिग्री) द्वारा पिन (° ३ °) (° ५ °) बदलें


 * _-m_ : देरी गुणक को बदलें, और इसलिए डिफ़ॉल्ट रूप से आधार समय (° ३ °): स्वचालित समायोजन (° ४ °) (° ५ °)



उपयोग की गई पिन नंबरिंग _wiringPi_है। अपने _Raspberry_ (कॉलम _wPi_ )में लेआउट रखने के लिए `gpio readall` का उपयोग करें।

उदाहरण के लिए, यदि आप पिन 3, 11 और 13 का उपयोग करना चाहते हैं:  
डिबग पोर्ट से एक दरवाजे _GPIO_के लिए निम्नलिखित पिन को कनेक्ट करें:

 1. पिन 1 ( _GND_ ) -> pin 14 ( _GND_ ))


 2. पिन 7 ( _reset_ ) -> pin 3 ( _wPi 8, BCM2_ )


 3. पिन 3 ( _DC_ ) -> pin 11 ( _wPi 0, BCM17_ )


 4. पिन 4 ( _DD_ ) -> पिन 13 ( _wPi 2, BCM27_ )



और अब आप निम्नलिखित आदेशों के साथ फ्लैश मेमोरी को आईडी पढ़ सकते हैं, बचा सकते हैं, हटा सकते हैं और लिख सकते हैं:
```bash
./cc_chipid -r 8 -c 0 -d 2
./cc_read -r 8 -c 0 -d 2 save.hex
./cc_erase -r 8 -c 0 -d 2
./cc_write -r 8 -c 0 -d 2 CC2531ZNP-Prod.hex
```

आप _CCDebugger.h_ के लिए डिफ़ॉल्ट मान भी बदल सकते हैं और `make`के साथ प्रोग्राम संकलित कर सकते हैं।

## क्या होगा अगर यह काम नहीं करता है?

1. अन्य सभी प्रोग्राम बंद करें।


2. प्रोग्रामिंग से पहले प्रोसेसर की गति निर्धारित करें। उदाहरण:


   ```bash
   sudo echo performance >/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
   ```
3. उपयोग की गई समय सीमा बढ़ाने के लिए -m विकल्प का उपयोग करें। उदाहरण:


   ```bash
   ./cc_write -m 300 CC2531ZNP-Prod.hex
   ```
4.  `make`के साथ कार्यक्रम को पुन: व्यवस्थित करें।



## लाइसेंस

यह परियोजना GPL v3 ( देखें _COPYING_ )के तहत लाइसेंस प्राप्त है।
